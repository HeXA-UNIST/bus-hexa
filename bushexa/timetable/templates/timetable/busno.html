{% extends "base.html" %} 
{% load timetable_extras %}

{% block head %}
<style>
    table, thead, tr, th, td, tbody {
        width: 100%;
    }
    thead, tbody, tr {
        display: block;
    }
    table tr {
        padding-right: 0;
        padding-left: 0;
    }
</style>
{% endblock head %}

{% block title %}Bus HeXA{% endblock title %}

{% block content %}

<article>
    <aside>
        {% if stop_name %}
        <p> 정류소명: {{ stop_name }} </p>
        {% else %}
        <p> 정류소가 조회되지 않습니다. </p>
        {% endif %}
    </aside>
    <br />
</article>

<section>
    {% for bus in bus_info %}
    <aside>
        <section>
            <table>
                <thead>
                    <tr>
                        <th>{{ bus.bus_name }}</th>
                        {% if bus.stop_info.0.vehicle_no %}
                            <td>{{ bus.stop_info.0.vehicle_no }}</td>
                        {% endif %}
                    </tr>
                </thead>
    
                {% for info in bus.stop_info %}
                    {% if info.remain_time %}
                    <tr>
                        <td> 남은시간: {{ info.remain_time }} ({{ info.stop_name }})</td>
                    </tr>
                    {% endif %}
    
                    {% if info.bus_time %}
                    <tr>
                        <td> {{ info.bus_time }} 출발예정 </td>
                    </tr>
                    {% endif %}
                    {% if info.no_data %}
                    <tr>
                        <td> 더이상 버스가 없습니다. </td>
                    </tr>
                    {% endif %}
                {% endfor%}
    
            </table>
        </section>
    </aside>
    {% endfor %}
</section>

{% endblock content %}
